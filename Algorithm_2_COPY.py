import random
import copy

def generate_populations(pop0, i):
    """
    生成三个新种群 ℘1, ℘2, ℘3。

    Args:
        pop0 (list): 原始种群。
        i (list): 选定的个体。

    Returns:
        tuple: 包含生成的三个新种群 ℘1, ℘2, ℘3 的元组。
    """
    # ℘1⟵ add an individual i ∈℘ 0 to ℘ℴ℘ ;
    pop1 = copy.deepcopy(pop0)
    pop1.append(i)

    # ℘2⟵ replace a randomly chosen individual in ℘ℴ℘ with i ∈℘ 0;
    pop2 = copy.deepcopy(pop0)
    random_index = random.randint(0, len(pop0) - 1)
    pop2[random_index] = i

    # ℘3⟵ remove a random individual from ℘ℴ℘ ;
    pop3 = copy.deepcopy(pop0)
    random_index = random.randint(0, len(pop0) - 1)
    del pop3[random_index]

    return pop1, pop2, pop3



# 示例使用
if __name__ == "__main__":
    # 定义原始种群和选定的个体
    pop0 = [(374.5, 950.7, 100), (732.0, 598.7, 100), (156.0, 156.0, 100), (58.1, 866.2, 100),
                          (601.1, 708.1, 100), (20.6, 969.9, 100), (832.4, 212.3, 100), (181.8, 183.4, 100),
                          (304.2, 524.8, 100), (431.9, 291.2, 100), (611.9, 139.5, 100), (292.1, 366.4, 100),
                          (456.1, 785.2, 100), (199.7, 514.2, 100), (592.4, 46.5, 100), (607.5, 170.5, 100),
                          (65.1, 948.9, 100), (965.6, 808.4, 100), (304.6, 97.7, 100), (684.2, 440.2, 100),
                          (122.0, 495.2, 100), (34.4, 909.3, 100), (258.8, 662.5, 100), (311.7, 520.1, 100),
                          (546.7, 184.9, 100), (969.6, 775.1, 100), (939.5, 894.8, 100), (597.9, 921.9, 100),
                          (88.5, 196.0, 100), (45.2, 325.3, 100), (388.7, 271.3, 100), (828.7, 356.8, 100),
                          (280.9, 542.7, 100), (140.9, 802.2, 100), (74.6, 986.9, 100), (772.2, 198.7, 100),
                          (5.5, 815.5, 100), (706.9, 729.0, 100), (771.3, 74.0, 100), (358.5, 115.9, 100),
                          (863.1, 623.3, 100), (330.9, 63.6, 100), (311.0, 325.2, 100), (729.6, 637.6, 100),
                          (887.2, 472.2, 100), (119.6, 713.2, 100), (760.8, 561.3, 100), (771.0, 493.8, 100),
                          (522.7, 427.5, 100), (25.4, 107.9, 100), (31.4, 636.4, 100), (314.4, 508.6, 100),
                          (907.6, 249.3, 100), (410.4, 755.6, 100), (228.8, 77.0, 100), (289.8, 161.2, 100),
                          (929.7, 808.1, 100), (633.4, 871.5, 100), (803.7, 186.6, 100), (892.6, 539.3, 100),
                          (807.4, 896.1, 100), (318.0, 110.1, 100), (227.9, 427.1, 100), (818.0, 860.7, 100),
                          (7.0, 510.7, 100), (417.4, 222.1, 100), (119.9, 337.6, 100), (942.9, 323.2, 100),
                          (518.8, 703.0, 100), (363.6, 971.8, 100), (962.4, 251.8, 100), (497.2, 300.9, 100),
                          (284.8, 36.9, 100), (609.6, 502.7, 100), (51.5, 278.6, 100), (908.3, 239.6, 100),
                          (144.9, 489.5, 100), (985.7, 242.1, 100), (672.1, 761.6, 100), (237.6, 728.2, 100),
                          (367.8, 632.3, 100), (633.5, 535.8, 100), (90.3, 835.3, 100), (320.8, 186.5, 100),
                          (40.8, 590.9, 100), (677.6, 16.6, 100), (512.1, 226.5, 100), (645.2, 174.4, 100),
                          (690.9, 386.7, 100), (936.7, 137.5, 100), (341.1, 113.5, 100), (924.7, 877.3, 100),
                          (257.9, 660.0, 100), (817.2, 555.2, 100), (529.7, 241.9, 100), (93.1, 897.2, 100),
                          (900.4, 633.1, 100), (339.0, 349.2, 100), (726.0, 897.1, 100), (887.1, 779.9, 100)]
    # 创建 SPDeploymentUpdater 实例
    i = pop0[random.randint(0,99)]


    # 生成新种群
    pop1, pop2, pop3 = generate_populations(pop0, i)

    print("℘1:", pop1)
    print("℘2:", pop2)
    print("℘3:", pop3)